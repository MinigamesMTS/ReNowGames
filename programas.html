<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Programas</title>
<link rel="stylesheet" href="estilo.css">
</head>
<body>

<div class="container">

<input type="text" class="search" placeholder="Buscar programa...">

<div class="panel">
    <h3>Programas</h3>

    <div class="list">

        <!-- DUPLICA ESTO PARA MÁS PROGRAMAS -->

        <div class="game"
        data-mega="#"
        data-mediafire="#">
        Photoshop
        </div>

        <div class="game"
        data-mega="#"
        data-mediafire="#">
        Blender
        </div>

        <div class="game"
        data-mega="#"
        data-mediafire="#">
        Visual Studio Code
        </div>

    </div>
</div>

</div>

<!-- ===== MODAL ===== -->
<div class="modal" id="modal">
    <div class="modal-content">
        <h3 id="gameTitle"></h3>

        <a id="megaLink" target="_blank">
            <button class="button mega">MEGA</button>
        </a>

        <a id="mediafireLink" target="_blank">
            <button class="button mediafire">MEDIAFIRE</button>
        </a>

        <button class="close" id="closeBtn">Cerrar</button>
    </div>
</div>

<!-- ===== MENÚ ===== -->
<div class="menu-wrapper">
    <button class="menu-btn" id="menuBtn">MENÚ</button>

    <div class="menu-dropdown" id="menuDropdown">
        <a href="index.html">Juegos</a>
        <a href="programas.html">Programas</a>
    </div>
</div>

<script>
const games = document.querySelectorAll(".game");
const modal = document.getElementById("modal");
const gameTitle = document.getElementById("gameTitle");
const megaLink = document.getElementById("megaLink");
const mediafireLink = document.getElementById("mediafireLink");
const closeBtn = document.getElementById("closeBtn");
const searchInput = document.querySelector(".search");

const menuBtn = document.getElementById("menuBtn");
const menuDropdown = document.getElementById("menuDropdown");

/* CLICK EN PROGRAMA */
games.forEach(item => {
    item.addEventListener("click", () => {
        gameTitle.innerText = item.innerText;
        megaLink.href = item.dataset.mega || "#";
        mediafireLink.href = item.dataset.mediafire || "#";
        modal.classList.add("active");
    });
});

/* CERRAR MODAL */
closeBtn.addEventListener("click", () => {
    modal.classList.remove("active");
});

modal.addEventListener("click", (e) => {
    if (e.target === modal) {
        modal.classList.remove("active");
    }
});

/* BUSCADOR */
searchInput.addEventListener("input", () => {
    const value = searchInput.value.toLowerCase();

    games.forEach(item => {
        const text = item.innerText.toLowerCase();
        item.style.display = text.includes(value) ? "block" : "none";
    });
});

/* MENÚ */
menuBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    menuDropdown.classList.toggle("active");
});

document.addEventListener("click", (e) => {
    if (!menuBtn.contains(e.target) && !menuDropdown.contains(e.target)) {
        menuDropdown.classList.remove("active");
    }
});
</script>

</body>
</html>
